import{aw as k,ax as B,d as L,S,ay as p,aq as T}from"./index-895aba94.js";import"./index-8c6623a3.js";/* empty css              */import{a3 as A,u as I,r as D,Q as M,M as $,o as i,a as m,c as a,a2 as t,a0 as r,a9 as g,F as H,a1 as N,$ as P,b as C}from"./_plugin-vue_export-helper-730fb40d.js";import{a as q}from"./good-bf2815b8.js";import{s as F}from"./SimpleHeader-f2f1910e.js";import{A as R}from"./index-35ef3550.js";import{A as V,a as E}from"./index-584b7f7a.js";import"./use-placeholder-c6a38236.js";import"./index-f6e9c29d.js";const Q={class:"product-detail"},j={class:"detail-content"},z={class:"detail-swipe-wrap"},G=["src"],J={class:"product-info"},K={class:"product-title"},O=t("div",{class:"product-desc"},"免邮费 顺丰快递",-1),U={class:"product-price"},W={class:"product-intro"},X=t("ul",null,[t("li",null,"概述"),t("li",null,"参数"),t("li",null,"安装服务"),t("li",null,"常见问题")],-1),Y=["innerHTML"],lt={__name:"ProductDetail",setup(Z){const h=A(),d=I(),n=k(),o=D({detail:{goodsCarouselList:[]}});M(async()=>{const{id:s}=h.params,{data:e}=await q(s);e.goodsCarouselList=e.goodsCarouselList.map(c=>B(c)),o.detail=e,n.updateCart()}),$(()=>{const s=document.querySelector(".detail-content");s.scrollTop=0});const v=()=>{d.push({path:"/cart"})},f=async()=>{const{resultCode:s}=await p({goodsCount:1,goodsId:o.detail.goodsId});s==200&&T("添加成功"),n.updateCart()},w=async()=>{await p({goodsCount:1,goodsId:o.detail.goodsId}),n.updateCart(),d.push({path:"/cart"})};return(s,e)=>{const c=L,x=S,l=R,u=V,y=E;return i(),m("div",Q,[a(F,{name:"商品详情"}),t("div",j,[t("div",z,[a(x,{class:"my-swipe","indicator-color":"#1baeae"},{default:r(()=>[(i(!0),m(H,null,N(o.detail.goodsCarouselList,(_,b)=>(i(),P(c,{key:b},{default:r(()=>[t("img",{src:_,alt:""},null,8,G)]),_:2},1024))),128))]),_:1})]),t("div",J,[t("div",K,g(o.detail.goodsName||""),1),O,t("div",U,[t("span",null,"¥"+g(o.detail.sellingPrice||""),1)])]),t("div",W,[X,t("div",{class:"product-content",innerHTML:o.detail.goodsDetailContent||""},null,8,Y)])]),a(y,null,{default:r(()=>[a(l,{icon:"chat-o",text:"客服"}),a(l,{icon:"cart-o",badge:C(n).count?C(n).count:"",onClick:e[0]||(e[0]=_=>v()),text:"购物车"},null,8,["badge"]),a(u,{type:"warning",onClick:f,text:"加入购物车"}),a(u,{type:"danger",onClick:w,text:"立即购买"})]),_:1})])}}};export{lt as default};
