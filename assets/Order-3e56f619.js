import"./index-895aba94.js";import"./index-8c6623a3.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              */import{s as y}from"./SimpleHeader-f2f1910e.js";import{g as O}from"./order-abf85726.js";import{_ as T,u as L,r as B,o as l,a as i,c as a,a0 as c,a2 as d,F as u,a1 as g,a9 as f,$ as N}from"./_plugin-vue_export-helper-730fb40d.js";import{T as I,a as R}from"./index-68a0f58b.js";import{C as S}from"./index-353d5a45.js";import{L as $,P as w}from"./index-c7c56f0e.js";import"./use-id-278a301c.js";import"./index-4d9ab92a.js";const U={class:"order-box"},D={class:"content"},F=["onClick"],q={class:"order-item-header"},E={__name:"Order",setup(H){const _=L(),e=B({status:"",loading:!1,finished:!1,refreshing:!1,list:[],page:1,totalPage:0}),h=async()=>{const{data:o,data:{list:s}}=await O({pageNumber:e.page,status:e.status});e.list=e.list.concat(s),e.totalPage=o.totalPage,e.loading=!1,e.page>=o.totalPage&&(e.finished=!0)},b=({name:o})=>{e.status=o,p()},v=o=>{_.push({path:"/order-detail",query:{id:o}})},m=()=>{!e.refreshing&&e.page<e.totalPage&&(console.log(e.page),console.log(e.totalPage),e.page=e.page+1),e.refreshing&&(e.list=[],e.refreshing=!1),h()},p=()=>{e.refreshing=!0,e.finished=!1,e.loading=!0,e.page=1,m()};return(o,s)=>{const r=I,k=R,C=S,P=$,V=w;return l(),i("div",U,[a(y,{name:"我的订单",back:"/user"}),a(k,{onClickTab:b,color:"#1baeae","title-active-color":"#1baeae",class:"order-tab",modelValue:e.status,"onUpdate:modelValue":s[0]||(s[0]=t=>e.status=t)},{default:c(()=>[a(r,{title:"全部",name:""}),a(r,{title:"待付款",name:"0"}),a(r,{title:"待确认",name:"1"}),a(r,{title:"待发货",name:"2"}),a(r,{title:"已发货",name:"3"}),a(r,{title:"交易完成",name:"4"})]),_:1},8,["modelValue"]),d("div",D,[a(V,{modelValue:e.refreshing,"onUpdate:modelValue":s[2]||(s[2]=t=>e.refreshing=t),onRefresh:p,class:"order-list-refresh"},{default:c(()=>[a(P,{loading:e.loading,"onUpdate:loading":s[1]||(s[1]=t=>e.loading=t),finished:e.finished,"finished-text":"没有更多了",onLoad:m,onOffset:t=>10},{default:c(()=>[(l(!0),i(u,null,g(e.list,(t,x)=>(l(),i("div",{key:x,class:"order-item-box",onClick:n=>v(t.orderNo)},[d("div",q,[d("span",null,"订单时间："+f(t.createTime),1),d("span",null,f(t.orderStatusString),1)]),(l(!0),i(u,null,g(t.newBeeMallOrderItemVOS,n=>(l(),N(C,{key:n.orderId,num:n.goodsCount,price:n.sellingPrice,desc:"全场包邮",title:n.goodsName,thumb:o.$filters.prefix(n.goodsCoverImg)},null,8,["num","price","title","thumb"]))),128))],8,F))),128))]),_:1},8,["loading","finished"])]),_:1},8,["modelValue"])])])}}},ae=T(E,[["__scopeId","data-v-be2d836e"]]);export{ae as default};
